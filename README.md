# ๐ถ๐๏ธ VisionโVoice Demo

[![Docker](https://img.shields.io/badge/Docker-ready-blue)](https://hub.docker.com/)
[![Colab](https://img.shields.io/badge/Run%20on-Colab-yellow?logo=googlecolab)](https://colab.research.google.com/drive/12o8ZhVKbKLouI-72SHGj2KamXH0RZayq?usp=sharing)
[![License: MIT](https://img.shields.io/badge/License-MIT-green.svg)](LICENSE)

> **MVPโะฟัะพัะพัะธะฟ:** ะฟะพ **ััััะบะพะน** ะณะพะปะพัะพะฒะพะน ะบะพะผะฐะฝะดะต ะธัะตั ัะบะฐะทะฐะฝะฝัะน ะพะฑัะตะบั ะฝะฐ ะบะฐััะธะฝะบะต ะธ ะฟะพะดัะฒะตัะธะฒะฐะตั ะตะณะพ boundingโboxโะพะผ.
> ะะฐะฑะพัะฐะตั *ะฟะพะปะฝะพัััั ะพัะปะฐะนะฝ* ะธ *ะฝะฐ CPU*.

<p align="center">
  <img src="content/preview.gif" width="680" alt="Gradio UI">
</p>

---

**Vision-Voice Demo** โ ััะพ ะฑะพะปััะต, ัะตะผ ัะตัะฝะธัะตัะบะธะน ะฟัะพัะพัะธะฟ. ะัะพะตะบั ะดะตะผะพะฝัััะธััะตั, ะบะฐะบ ะฝะตะนัะพัะตัะธ ะผะพะณัั **ัะตะฐะปัะฝะพ ัะฟัะพัะฐัั ะถะธะทะฝั ะปัะดะตะน** ะธ ัะตัะฐัั ะบะพะฝะบัะตัะฝัะต ะทะฐะดะฐัะธ ะฒ ัะฐะผัั ัะฐะทะฝัั ััะตัะฐั:

### ะะตัะตะฝะธะต ะฐะบััะฐะปัะฝัั ะทะฐะดะฐั:

* **ะะพะผะพัั ะปัะดัะผ ั ะพะณัะฐะฝะธัะตะฝะฝัะผะธ ะฒะพะทะผะพะถะฝะพัััะผะธ**
  ะัะดะธ ั ะฝะฐัััะตะฝะธัะผะธ ะทัะตะฝะธั ะธะปะธ ะผะพัะพัะธะบะธ ัะผะพะณัั ัะฟัะพััะธัั ะฒะทะฐะธะผะพะดะตะนััะฒะธะต ั ัะพัะพ, ะบะฐัะฐะปะพะณะฐะผะธ ะธ ะดะฐะถะต ะฟัะพัััะฐะฝััะฒะพะผ ะฒะพะบััะณ ัะตะฑั.

  > *ยซะะพะบะฐะถะธ ะดะฒะตััยป, ยซะะฐะนะดะธ ัะตะปะตัะพะฝยป, ยซะะดะต ะบััะถะบะฐ?ยป โ ะฟัะพัััะต ะบะพะผะฐะฝะดั, ะทะฝะฐัะธัะตะปัะฝะพ ะพะฑะปะตะณัะฐััะธะต ะฑัั.*

* **ะะฝัะตัะฐะบัะธะฒะฝะพะต ะธะทััะตะฝะธะต ัะทัะบะฐ ะดะตััะผะธ (ะธะฝะฒะฐะทะธะฒะฝะพะต ะพะฑััะตะฝะธะต)**
  ะัะพะดัะบั ะผะพะถะตั ะฑััั ะฐะดะฐะฟัะธัะพะฒะฐะฝ ะดะปั ะดะตัะตะน, ะธะทััะฐััะธั ะธะฝะพัััะฐะฝะฝัะน ัะทัะบ. ะะตะฑัะฝะพะบ ะฟัะพะธะทะฝะพัะธั ัะปะพะฒะพ, ะฐ ัะธััะตะผะฐ ะฟะพะบะฐะทัะฒะฐะตั ัะพะพัะฒะตัััะฒััััั ะบะฐััะธะฝะบั ะธะปะธ ะพะฑัะตะบั. ะขะฐะบ ัะตะฑะตะฝะพะบ ะพะดะฝะพะฒัะตะผะตะฝะฝะพ ััะตะฝะธััะตั ะฟัะพะธะทะฝะพัะตะฝะธะต ะธ ะฒะธะทัะฐะปัะฝัั ะฟะฐะผััั.

  > *ยซะะพะบะฐะถะธ ะผะฐัะธะฝะบัยป, ยซะะฐะนะดะธ ะบะพัะธะบะฐยป โ ะณะพะปะพัะพะฒะพะน ะธะฝัะตััะตะนั ะฒะพะฒะปะตะบะฐะตั ะธ ะดะตะปะฐะตั ะพะฑััะตะฝะธะต ะตััะตััะฒะตะฝะฝัะผ.*

* **ะฃะดะพะฑััะฒะพ ะดะปั ัะบะปะฐะดะพะฒ ะธ ะปะพะณะธััะธะบะธ**
  ะะพะปะพัะพะฒะฐั ะฝะฐะฒะธะณะฐัะธั ะธ ะฟะพะธัะบ ะฟะพ ะธะทะพะฑัะฐะถะตะฝะธัะผ ััะบะพััะตั ัะฐะฑะพัั ัะพัััะดะฝะธะบะพะฒ ะฝะฐ ัะบะปะฐะดะฐั. ะกะพัััะดะฝะธะบ ะฝะฐะทัะฒะฐะตั ะฟัะตะดะผะตั ะณะพะปะพัะพะผ โ ะฝะตะนัะพัะตัั ะฝะฐัะพะดะธั ะตะณะพ ะฝะฐ ัะพัะพ ัะบะปะฐะดะฐ ะธะปะธ ะดะฐะถะต ะฝะฐ ะบะฐะผะตัะต ะฒ ัะตะฐะปัะฝะพะผ ะฒัะตะผะตะฝะธ.

  > *ยซะะดะต ะบะพัะพะฑะบะฐ โ5412?ยป โ ะฟะพะธัะบ, ะบะพัะพััะน ััะบะพััะตั ัะฐะฑะพัะธะต ะฟัะพัะตััั ะฒ ะดะตัััะบะธ ัะฐะท.*

* **ะะฑััะตะฝะธะต ะฝะพะฒัั ะผะพะดะตะปะตะน ะดะตัะตะบัะธะธ**
  ะัะพะตะบั ะปะตะณะบะพ ะผะฐัััะฐะฑะธััะตััั ะฟะพะด ะทะฐะดะฐัะธ ะฑะธะทะฝะตัะฐ ะธะปะธ ะธััะปะตะดะพะฒะฐัะตะปััะบะธะต ัะตะปะธ. ะั ะผะพะถะตัะต ะธะฝัะตะณัะธัะพะฒะฐัั ัะพะฑััะฒะตะฝะฝัะน ะดะฐัะฐัะตั, ะดะพะพะฑััะธัั ะผะพะดะตะปั ะฟะพะด ะฒะฐัะธ ะบะปะฐััั ะธ ะธัะฟะพะปัะทะพะฒะฐัั ะตั ะฒ ัะทะบะธั ะฝะธัะฐั: ะพั ะฐะฒัะพะผะฐัะธะทะฐัะธะธ ัะธัะตะนะปะฐ ะดะพ ะผะพะฝะธัะพัะธะฝะณะฐ ะฑะตะทะพะฟะฐัะฝะพััะธ.


---

## ะะพะทะผะพะถะฝะพััะธ

* **ASR:** `Whisperโsmall` (ัะตัะตะท *fasterโwhisper*)
* **RUโEN ะฟะตัะตะฒะพะด:** `CTranslate2` INT8
* **ะะตัะตะบัะธั + grounding:** `Florenceโ2โbase` 8โbit
* **ะะฝัะตััะตะนั:** Gradio โ ะทะฐะฟััะบะฐะตััั ะพะดะฝะพะน ะบะพะผะฐะฝะดะพะน
* **Offlineโัะตะถะธะผ:** ะผะพะดะตะปะธ ัะบะฐัะธะฒะฐัััั ะพะดะธะฝ ัะฐะท ัะบัะธะฟัะพะผ ะธะปะธ ะฒะพ ะฒัะตะผั Dockerโbuild

---

## ะัััััะน ััะฐัั

<details>
<summary>๐น Docker (ัะตะบะพะผะตะฝะดะพะฒะฐะฝะพ, ะฟะพะปะฝะพัััั ะพัะปะฐะนะฝ)</summary>

```bash
git clone https://github.com/USERNAME/vision-voice-demo.git
cd vision-voice-demo

# 1. ะกะบะฐัะธะฒะฐะตะผ ะผะพะดะตะปะธ (ะพะดะธะฝ ัะฐะท)
bash scripts/download_models.sh

# 2โะฐ. ะกะฑะพัะบะฐ ะพะฑัะฐะทะฐ (ะผะพะดะตะปะธ ะบะพะฟะธัััััั ะฒะฝัััั)
docker build -t vision-voice-demo .

# 2โะฑ. โ ะะปััะตัะฝะฐัะธะฒะฐ โ ะฝะต ัะฐัะธัั 3 ะะ ะฒ ะบะพะฝัะตะบัั:
#     docker build --build-arg MODELS_PATH=/host/models -t vision-voice-demo .

# 3. ะะฐะฟััะบ (UI ะพัะบัะพะตััั ะฝะฐ http://localhost:7860)
docker run --rm -it -p 7860:7860 vision-voice-demo
```

</details>

<details>
<summary>๐น ะะพะบะฐะปัะฝะพ (Pythonโฅ3.11)</summary>

```bash
python -m venv .venv && source .venv/bin/activate
pip install -r requirements.txt
bash scripts/download_models.sh        # ~3 ะะ

python app/main.py                     # Gradio ะพัะบัะพะตั ะฑัะฐัะทะตั
```

</details>

<details>
<summary>๐น Google Colab (GPU, ะพะฑะปะฐะบะพ)</summary>

ะะฐะถะผะธัะต ะฝะฐ ะบะฝะพะฟะบั ยซRun on Colabยป ะฒ ัะฐะฟะบะต โ ะพัะบัะพะตััั ะฝะพััะฑัะบ ั ัะตะผ ะถะต ะฟะฐะนะฟะปะฐะนะฝะพะผ, ะฝะพ ะฝะฐ GPU. ะะพะดะตะปะธ ะฟะพะดััะฝัััั ะฐะฒัะพะผะฐัะธัะตัะบะธ ัะตัะตะท `git lfs`.

</details>

---

## ะััะธัะตะบัััะฐ

```text
     Voice (ru)            Image
         โ                   โ
         โผ                   โผ
โโโโโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโโโโ
โ Whisperโsmall  โ    โ Florenceโ2โbaseโโโโโโโโโโOutput
โโโโโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโโโโ
         โ  ru text            โฒ
         โผ                     โ grounded bboxes
โโโโโโโโโโโโโโโโโโ             โ
โ CTranslate2    โโโโโโโโโโโโโโโ
โโโโโโโโโโโโโโโโโโ en prompt
```

---

## ะัะฟะพะปัะทะพะฒะฐะฝะธะต

1. ะะฐะฟะธัะธัะต ะณะพะปะพัะพะฒัั ััะฐะทั (ยซะะฐะนะดะธ **ัะพะฑะฐะบั** ะฝะฐ ัะพัะพยป) ะธะปะธ ะทะฐะณััะทะธัะต MP3/WAV.
2. ะะฐะณััะทะธัะต ะธะทะพะฑัะฐะถะตะฝะธะต.
3. ะะฐะถะผะธัะต **Submit** โ ะพะฑัะตะบั ะฑัะดะตั ะพะฑะฒะตะดัะฝ ะบัะฐัะฝัะผ ะฟััะผะพัะณะพะปัะฝะธะบะพะผ.


---

## ะกะบัะธะฟั ัะบะฐัะธะฒะฐะฝะธั ะผะพะดะตะปะตะน

```bash
# scripts/download_models.sh
git lfs clone https://huggingface.co/guillaumekln/faster-whisper-small whisper-small
git lfs clone https://huggingface.co/microsoft/Florence-2-base       florence-2-base
```

*ะัะปะธ ัะฐะทะผะตั Dockerโะบะพะฝัะตะบััะฐ ะบัะธัะธัะตะฝ* โ ะธัะบะปััะธัะต `models/**` ะฒ `.dockerignore`
ะธ ะฟัะธะผะพะฝัะธััะนัะต ะฟะฐะฟะบั ะบะฐะบ volume:

```bash
docker run -v "$PWD/models:/app/models" -p 7860:7860 vision-voice-demo
```

---

## Roadmap


* ะะพะดะดะตัะถะบะฐ ะฑะพะปััะตะณะพ ะบะพะปะธัะตััะฒะฐ ัะทัะบะพะฒ ะธ ะดะธะฐะปะตะบัะพะฒ (multilingual ASR).
* ะะพะดะบะปััะตะฝะธะต ะบะฐะผะตัั ัะตะฐะปัะฝะพะณะพ ะฒัะตะผะตะฝะธ ะดะปั ัะฐะฑะพัั ั ะฒะธะดะตะพ-ะฟะพัะพะบะพะผ.
* ะะฝัะตะณัะฐัะธั ัะตัะฒะธัะฐ ัะตะบะพะผะตะฝะดะฐัะธะน ะฝะฐ ะพัะฝะพะฒะต ัะฐัะฟะพะทะฝะฐะฒะฐะฝะธั ะพะฑัะตะบัะฐ (ะฝะฐะฟัะธะผะตั, ะฐะฒัะพะผะฐัะธัะตัะบะพะต ะพะฟัะตะดะตะปะตะฝะธะต ัะพะฒะฐัะพะฒ ะธ ะธั ัะตะฝั).
* ะะตะฐะปะธะทะฐัะธั ะผะพะฑะธะปัะฝะพะณะพ ะฟัะธะปะพะถะตะฝะธั ะธะปะธ ะณะพะปะพัะพะฒะพะณะพ ะฐััะธััะตะฝัะฐ ะดะปั ะฟะพะฒัะตะดะฝะตะฒะฝัั ะทะฐะดะฐั.
* ะะพะทะผะพะถะฝะพััั ยซะดะพะฝะฐััะธะฒะฐะฝะธัยป (fine-tuning) ะฝะฐ ัะพะฑััะฒะตะฝะฝัั ะดะฐะฝะฝัั ัะตัะตะท ะฟัะพััะพะน ะธะฝัะตััะตะนั.

---

## ะะพัะตะผั ััะพ ะฒะฐะถะฝะพ?

ะัะฟะพะปัะทัั ัะตัะฝะพะปะพะณะธะธ ะณะพะปะพัะพะฒะพะณะพ ัะฟัะฐะฒะปะตะฝะธั ะธ ะดะตัะตะบัะธะธ ะพะฑัะตะบัะพะฒ, ะผะพะถะฝะพ ัััะตััะฒะตะฝะฝะพ ะฟะพะฒััะธัั ะบะฐัะตััะฒะพ ะถะธะทะฝะธ ะธ ัะฐะฑะพัั ะปัะดะตะน. ะญัะพ **ะฝะต ะฟัะพััะพ ะธะฝัะตัะตัะฝัะน ะฟัะพัะพัะธะฟ**, ะฐ ัะฐะณ ะบ ัะพะทะดะฐะฝะธั ะธะฝััะธัะธะฒะฝัั ะธ ะตััะตััะฒะตะฝะฝัั ะธะฝัะตััะตะนัะพะฒ ะฒะทะฐะธะผะพะดะตะนััะฒะธั ั ัะตัะฝะธะบะพะน.

ะัะพะตะบั ะพัะบััะฒะฐะตั ะฟััั ะบ ัะพะทะดะฐะฝะธั ะดะพัััะฟะฝัั ะฟัะพะดัะบัะพะฒ, ะบะพัะพััะต ะฑัะดัั ะฟะพะปะตะทะฝั **ัะตะฐะปัะฝัะผ ะปัะดัะผ** ะธ ัะผะพะณัั ะฝะฐะนัะธ ัะฒะพั ะฟัะธะผะตะฝะตะฝะธะต ะฒ ัะฐะผัั ัะฐะทะฝัั ะพััะฐัะปัั.

---

## ๐ ะะธัะตะฝะทะธั

MIT. ะัะฟะพะปัะทัะนัะต ะบะฐะบ ัะณะพะดะฝะพ, ะฝะพ โญ ัะตะฟะพะทะธัะพัะธั โ ะปัััะฐั ะฑะปะฐะณะพะดะฐัะฝะพััั.

Made with โค๏ธ and โ
